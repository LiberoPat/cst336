<! DOCTYPE html>
<html>
    <head>
        <title> Covid USA State Data</title>
        <link rel="stylesheet" href="css/styles.css" />
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" 
                rel="stylesheet" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
                crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    </head>
    <body class="container-sm">
        <h1>Covid 2020 Data</h1>
            <br><br>
            State:
            <select id="state" name="state">
               <option> Select One </option> 
                <option value="AL">Alabama</option>
            	<option value="AK">Alaska</option>
            	<option value="AZ">Arizona</option>
            	<option value="AR">Arkansas</option>
            	<option value="CA">California</option>
            	<option value="CO">Colorado</option>
            	<option value="CT">Connecticut</option>
            	<option value="DE">Delaware</option>
            	<option value="DC">District Of Columbia</option>
            	<option value="FL">Florida</option>
            	<option value="GA">Georgia</option>
            	<option value="HI">Hawaii</option>
            	<option value="ID">Idaho</option>
            	<option value="IL">Illinois</option>
            	<option value="IN">Indiana</option>
            	<option value="IA">Iowa</option>
            	<option value="KS">Kansas</option>
            	<option value="KY">Kentucky</option>
            	<option value="LA">Louisiana</option>
            	<option value="ME">Maine</option>
            	<option value="MD">Maryland</option>
            	<option value="MA">Massachusetts</option>
            	<option value="MI">Michigan</option>
            	<option value="MN">Minnesota</option>
            	<option value="MS">Mississippi</option>
            	<option value="MO">Missouri</option>
            	<option value="MT">Montana</option>
            	<option value="NE">Nebraska</option>
            	<option value="NV">Nevada</option>
            	<option value="NH">New Hampshire</option>
            	<option value="NJ">New Jersey</option>
            	<option value="NM">New Mexico</option>
            	<option value="NY">New York</option>
            	<option value="NC">North Carolina</option>
            	<option value="ND">North Dakota</option>
            	<option value="OH">Ohio</option>
            	<option value="OK">Oklahoma</option>
            	<option value="OR">Oregon</option>
            	<option value="PA">Pennsylvania</option>
            	<option value="RI">Rhode Island</option>
            	<option value="SC">South Carolina</option>
            	<option value="SD">South Dakota</option>
            	<option value="TN">Tennessee</option>
            	<option value="TX">Texas</option>
            	<option value="UT">Utah</option>
            	<option value="VT">Vermont</option>
            	<option value="VA">Virginia</option>
            	<option value="WA">Washington</option>
            	<option value="WV">West Virginia</option>
            	<option value="WI">Wisconsin</option>
            	<option value="WY">Wyoming</option>
            </select><br>
            
            
        
       <script>
        
            var settings = {
            	"async": true,
            	"crossDomain": true,
            	"url": "https://covid-19-usa-data-by-zt.p.rapidapi.com/GetUSAllHistoricalDataForState?statecode=ca",
            	"method": "GET",
            	"headers": {
            		"x-rapidapi-host": "covid-19-usa-data-by-zt.p.rapidapi.com",
            		"x-rapidapi-key": "4278201a09msh1c031c77983de33p1118e1jsnaee74dc709db"
            	}
            }

            $.ajax(settings).done(function (response) {
            	console.log(response);
            });
            
            
            $("#state").on("change", function() {
                
                //alert($("#state").val());
                
                $.ajax({
	                async: true,
	                crossDomain: true,
	                
                    method: "GET",
                    url: "https://covid-19-usa-data-by-zt.p.rapidapi.com/GetUSAllHistoricalDataForState?statecode=CA", //+ $('#state').val(),
                    dataType: "json",
                    headers: {
            	    	"x-rapidapi-host": "covid-19-usa-data-by-zt.p.rapidapi.com",
            	    	"x-rapidapi-key": "4278201a09msh1c031c77983de33p1118e1jsnaee74dc709db"
            	    },
                     // data: { "state": $("#state").val() },
                   //success: function(result,status) {
                      success: function(data) {  
                      //alert(result[0].county);
                        console.log('success', data);
                      }                  
                    
                });//ajax
            }); //state
                
            /* 
            //Display city after zipcode
            $("#zip").on("change", function(){
                $.ajax({
                    method: "GET",
                    url: "https://cst336.herokuapp.com/projects/api/cityInfoAPI.php",
                    dataType: "json",
                    data: { "zip":$("#zip").val() },
                    
                    success: function(result,status) {
                         //alert(result);
                        if (result != false){ 
                            $("#city").html(result.city);
                            $("#latitude").html(result.latitude);     
                            $("#longitude").html(result.longitude);
                        }
                        else {
                            $("#zipError").html("ZIP you entered is invalid");
                        }
                    } 
                });//ajax
            });//zip
            */
            

            
        </script>
    </body>
</html>

